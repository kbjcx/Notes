---
aliases: [Pipe]
area: 操作系统
project: 
date: 2023-04-15 10:02
---
---
#### Description
**匿名管道**
```cpp
int pipe(int fd[2])
// 返回两个文件描述符, 一个是读端文件描述符fd[0], 一个是写端文件描述符fd[1]
```
管道的本质就是存在于内核中的一段缓存, 通过写端描述符写入缓存, 在通过读端描述符取出缓存数据. 

> [!important] 
> 管道传输数据是单向的

创建的子进程通过继承父进程的文件描述符来获取到管道的读写能力, 但是由于管道数据的缓存只有一块, 当父进程和子进程同时使用管道文件描述符写数据或读数据时会产生冲突. 因此管道使用时往往创建两个管道用于读和写, 同时关闭管道的某一端, 是的管道在进程间的读写也是单向的. 
![[Pasted image 20230415102549.png|500]]

> [!tip] 
> 当然也可以使用信号

---
#### Source

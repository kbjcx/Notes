---
aliases: []
area: 分布式
project: 
date: 2023-08-05 15:06
tags: []
---
---
#### Content
在设计一个分布式系统的时候，我们必须清楚系统会发生哪种故障，然后寻找对应的解。不同的系统模型有着不同的算法和架构

#### 网络链路
在分布式系统中，网络出错常常导致出现**网络分区**，网络分区是指由于网络设备故障，导致网络分裂为多个独立的组，节点仍然正常工作，但是它们之间的通信连接已经中断了。

假设网络是点对点的单播通信，可以将网络链路分为三种：
1. **可靠链路：**
    也称为**完美链路**，既不会丢失消息，也不会凭空捏造消息，但它可能对消息重新排序
    它有如下特点：
    - 可靠传递
    - 没有重复
    - 不会无中生有
1. **公平损失链路：**
    公平损失链路的消息可能会丢失、重复或重新排序，但消息最终总会到达
    它具有如下特点：
    - 公平损失，如果不断重复发消息，消息终将会到达
    - 有限重复，消息只会重复发有限次
    - 不会无中生有
1. **任意链路：**
    任意链路是最弱的—种网络链路模型。这种网络链路允许任意的网络链路执行任何操作，可能有恶意软件修改网络数据包和流量

> [!important] 这三种网络模型是可以互相转换的
> 对于公平损失链路，我们可以通过不断重传丢失的消息，直到接收者收到它们，并让接收者过滤重复的消息，把一条公平损失链路变成一条可靠链路
> 使用加密技术可以将任意链路变成公平损失链路，例如我们常见的 HTTPS 中的“S”就使用了 TLS 加密，可以防止黑客窃听和修改数据信息。但 TLS 加密并不能防止中间攻击人丢弃数据包，因此，我们必须假设攻击人不会阻断通信链路，这样一条任意链路才能转换为公平损失链路

#### 节点故障类型
构建一个可靠的网络链路并不像想象中那么不切实际。然而，我们还必须考虑到，节点在回复消息时可能出现故障，从而导致该消息永久丢失。这就是**节点故障问题**

节点故障类型主要分为一下三种：
1. 崩溃-停止
    
1. 崩溃-恢复
2. 拜占庭故障

---

---
aliases: [CAP, 布鲁尔定理]
area: 分布式
project: 
date: 2023-08-06 11:10
tags: []
---
---
#### Content
CAP 定理指出，在一个异步网络环境中，对于一个分布式读写存储系统来说，只能满足以下三项中的两项，而不可能满足全部三项
- 一致性（Consistency）
    客户端访问所有节点，返回的都是同一份最新的数据，指的是**线性一致性**
- 可用性（Availability）
    每次请求都能获取非错误的响应，但不保证获取的数据的一致性
- 分区容错性（Partition Tolerance）
    节点之间由于网络分区而导致消息丢失的情况下，系统仍能继续正常运行

> [!faq] 为什么 CAP 定理说一个系统不能同时满足一致性、可用性和分区容错性？
> 利用反证法证明。假设一个同时满足这三个属性的系统。
> 此时我们让系统发生网络分区，现在我们向 Node1 发起写请求，因为系统是可用的，所以 Node1 必须响应客户端的请求，但是由于网络分区，Node1 无法将数据复制到 Node2
> 接着客户端向 Node2 发起读请求，因为系统是可用的，所以 Node2 必须响应客户端的请求，但是由于网络分区，Node1 的数据没有复制过来，所以 Node2 返回客户端的是旧的值，违背了一致性。





---

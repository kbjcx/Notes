---
aliases: []
area: redis
project: 
date: 2023-08-01 11:17
tags: []
---
---
#### Content
- 由于 [[AOF持久化#缺点|AOF持久化的缺点]]，Redis 增加了 RDB 快照来作为持久化的方式，它记录的是某一瞬间内存中的实际数据

> [!question] RDB 做快照时会阻塞线程吗？
> Redis 提供了两个命令来生成 RDB 文件，分别是 save 和 bgsave，他们的区别就在于是否在「主线程」里执行
> 1.  `save` 命令，就会在主线程生成 RDB 文件，由于和执行操作命令在同一个线程，所以如果写入 RDB 文件的时间太长，**会阻塞主线程**
> 2.  `bgsave` 命令，会创建一个子进程来生成 RDB 文件，这样可以**避免主线程的阻塞**

Redis 还可以通过配置文件的选项来实现每隔一段时间自动执行一次 bgsave 命令，默认会提供以下配置：
/


---

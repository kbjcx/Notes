---
aliases: [Stream]
area: redis
project: 
date: 2023-08-02 15:13
tags: []
---
---
#### Content
Redis Stream 是 Redis 5.0 版本新增加的数据类型，Redis 专门为消息队列设计的数据类型
在 Redis 5.0 Stream 没出来之前，消息队列的实现方式都有着各自的缺陷，例如:
- 发布订阅模式，不能持久化也就无法可靠的保存消息，并且对于离线重连的客户端不能读取历史消息的缺陷
- List 实现消息队列的方式不能重复消费，一个消息消费完就会被删除，而且生产者需要自行实现全局唯一 ID

> [!note] Redis 5.0 便推出了 Stream 类型也是此版本最重要的功能，用于完美地实现消息队列，它支持**消息的持久化**、**支持自动生成全局唯一 ID**、**支持 ack 确认消息的模式**、**支持消费组模式**等，让消息队列更加的稳定和可靠

#### 常见命令
**XADD**：插入消息，保证有序，可以自动生成全局唯一 ID
**XLEN** ：查询消息长度
**XREAD**：用于读取消息，可以按 ID 读取数据
**XDEL** ： 根据消息 ID 删除消息
**DEL** ：删除整个 Stream
**XRANGE** ：读取区间消息
**XREADGROUP**：按消费组形式读取消息
**XPENDING** 命令可以用来查询每个消费组内所有消费者 *「已读取、但尚未确认」* 的消息
**XACK** 命令用于向消息队列确认消息处理已完成

---

---
aliases: []
area: C++
project: 
date: 2023-06-11 20:35
tags: []
---
---
#### Description
##### 特点 ：
- 双端插入和删除
- 动态调整大小
- 随机访问：deque 的元素在内存中是连续存储的，因此可以通过下标或迭代器快速访问
- 高效的插入和删除：由于 deque 具有双端插入和删除的特性，因此在队列的两端进行插入和删除操作的时间复杂度都是 O (1)
- 迭代器失效：在 deque 进行插入和删除操作后，对原先获取的迭代器进行解引用可能导致迭代器失效。因此，在插入和删除操作后需要注意迭代器的有效性
- 分段连续：遍历和随机访问、插入、删除的效率不如 vector

##### 成员函数 ：
元素访问：
-  `at()`, `front()`, `back()`, `begin()`, `end()`

添加元素：
- `push_back()`, `push_front()`
- `insert(pos, elem)/insert(pos, n, elem)/insert(pos, begin, end)`

删除元素：
- `pop_back()`, `pop_front()`
- `erase(pos)/erase(begin, end)`


##### 底层实现 ：
deque 容器存储数据的空间是一段一段等长的连续空间构成，为了管理这些离散的连续空间，用 map 数组存储者各个连续空间的首地址。当 deque 前后缓存区都满了时，会增加新的缓冲区并将指针添加到 map 数组的前后，当 map 数组满了之后，会申请一个更大的 map 数组并将指针全部复制过去。
遍历 deque 时需要判断是否到达缓冲区的边缘，如果到达就需要跳到下一个缓冲区。
![[Pasted image 20230611205818.png]]


---
#### Source

---
aliases: [硬中断, 软中断]
area: 操作系统
project: 
date: 2023-04-10 21:12
---
---
# Description
> [!quote]
> 中断是指计算机运行过程中, 出现某些意外情况需要主机干预时, 能自动停止正在运行的程序转而处理新情况的程序, 处理完毕后又转回原程序继续运行

## 中断的作用
1. **外设异步通知 CPU**
     外设发生了什么事情或者完成了什么任务或者有什么消息要告诉 CPU，都可以异步给 CPU 发通知。例如，网卡收到了网络包，磁盘完成了 IO 任务，定时器的间隔时间到了，都可以给 CPU 发中断信号
 1. **CPU 之间发送消息**
     在 SMP (对称多处理器) 系统中，一个 CPU 想要给另一个 CPU 发送消息，可以给其发送 IPI (处理器间中断)
 1. **处理 CPU 异常**
    CPU 在执行指令的过程中遇到了异常会给自己发送中断信号来处理异常。例如，做整数除法运算的时候发现被除数是 0，访问虚拟内存的时候发现虚拟内存没有映射到物理内存上
1. **实现系统调用**
    早期的系统调用就是靠中断指令来实现的，后期虽然开发了专用的系统调用指令，但是其基本原理还是相似的

## 中断的处理
### 执行场景


- 中断期间往往会暂停系统的中断请求, 因此一旦中断处理时间过长, 就有可能丢失中断请求, 于是将中断分为了上半部和下半部
    - 上半部用来快速处理中断<font color="#0593A2">「硬中断」</font>
    - 下半部用来延迟处理上半部未完成的事务<font color="#0593A2">「软中断」</font>
- 「硬中断」和「软中断」的分类依据不是触发机制吗, 而是其实现机制, 「硬中断」是由 CPU 这个硬件实现的中断机制, 而「软中断」是由软件实现的类似中断的机制, 由内核不断轮询「软中断」标志位, 决定执行哪个中断程序
---
# Source
- [硬中断和软中断\_软中断和硬中断\_Coder\_yupeng的博客-CSDN博客](https://blog.csdn.net/weixin_43215305/article/details/120027555)
- [2.6 什么是软中断？ | 小林coding](https://xiaolincoding.com/os/1_hardware/soft_interrupt.html)
---

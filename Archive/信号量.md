---
aliases: []
area: 操作系统
project: 
date: 2023-04-15 10:59
---
---
#### Description
使用共享的方式进行通信时, 如果多个进程同时修改一个共享内存, 那么就很容易发生数据覆盖, 从而导致通信数据丢失. 

为了防止多进程竞争资源, 信号量用于实现保护资源在任意时刻只能被一个进程访问

信号量的本质是一个整型的计数器, 实现进程间的互斥与同步, 不用于缓存进程间通信的数据

**控制信号量有两种原子性操作**
1. **<font color="#0593A2">P 操作: </font>** 这个操作会把信号量减去 1, 相减后如果信号量 < 0, 则表明资源已被占用, 进程需阻塞等待; 相减后如果信号量 >= 0, 则表明还有资源可使用, 进程可正常继续执行.
2. **<font color="#0593A2">V 操作: </font>** 这个操作会把信号量加 1, 相加后如果信号量<= 0 , 则表示当前存在阻塞进程, 于是会唤醒该进程; 相加后如果信号量> 0, 则表示当前没有阻塞的进程.

信号初始化为 `1`，就代表着是互斥信号量，它可以保证共享内存在任何时刻只有一个进程在访问，这就很好的保护了共享内存
![[Pasted image 20230415110959.png]]

信号初始化为 `0`，就代表着是同步信号量，它可以保证进程 A 应在进程 B 之前执行
![[Pasted image 20230415111006.png]]
如果 B 先运行, 则它会阻塞等待 A 先运行

---
#### Source
- [5.2 进程间有哪些通信方式？ | 小林coding](https://xiaolincoding.com/os/4_process/process_commu.html#%E4%BF%A1%E5%8F%B7%E9%87%8F)
---
aliases: []
area: redis
project: 
date: 2023-08-03 15:20
tags: []
---
---
#### Content
在配置文件 redis.conf 中，可以通过参数 `maxmemory <bytes>` 来设定最大运行内存，只有在 Redis 的运行内存达到了我们设置的最大运行内存，才会触发内存淘汰策略。不同位数的操作系统，`maxmemory` 的默认值是不同的：
- 在 **64 位操作系统**中，`maxmemory` 的默认值是 0，表示没有内存大小限制，那么不管用户存放多少数据到 Redis 中，Redis 也不会对可用内存进行检查，直到 Redis 实例因内存不足而崩溃也无作为。
- 在 **32 位操作系统**中，`maxmemory` 的默认值是 3G，因为 32 位的机器最大只支持 4GB 的内存，而系统本身就需要一定的内存资源来支持运行，所以 32 位操作系统限制最大 3 GB 的可用内存是非常合理的，这样可以避免因为内存不足而导致 Redis 实例崩溃

#### 内存淘汰策略
##### 不进行数据淘汰的策略
noeviction（Redis3.0 之后，默认的内存淘汰策略） ：它表示当运行内存超过最大设置内存时，不淘汰任何数据，这时如果有新的数据写入，则会触发 OOM，但是如果没用数据写入的话，只是单纯的查询或者删除操作的话，还是可以正常工作

##### 进行数据淘汰的策略
进行数据淘汰的策略又被分为两种，「在设置了过期时间的数据中进行淘汰」和「在所有数据范围内进行淘汰」



---

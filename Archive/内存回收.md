---
aliases: [回收内存]
area: 操作系统
project: 
date: 2023-04-12 16:04
---
---
#### Description
##### 内存回收的方式
1. **后台内存回收 (kswapd)**
    在物理内存紧张的时候, 会唤醒 `kswapd` 内核线程来回收内存, 这个回收内存的过程是**<font color="#0593A2">异步</font>**的, 不会阻塞进程的执行
2. **直接内存回收**
    如果后台异步回收跟不上进程内存申请的速度, 就会开始直接回收, 这个回收过程是**<font color="#0593A2">同步</font>**的, 会阻塞进程的执行

> [!note] 
> 如果直接内存回收后, 空闲的物理内存仍然不满足物理内存的申请, 那么内核就会触发<font color="#0593A2"> [[OOM]] (Out of Memory)机制</font>

![[Pasted image 20230412163918.png|600]]

##### 哪些内存可以被回收 ?
主要有两类内存可以被回收: 
1. 文件页
2. 匿名页

---
#### Source
- [4.3 内存满了，会发生什么？ | 小林coding](https://xiaolincoding.com/os/3_memory/mem_reclaim.html#%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E7%9A%84%E8%BF%87%E7%A8%8B%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84)
---
aliases: []
area: C++
project: 
date: 2023-07-29 11:37
tags: []
---
---
#### Description
##### `auto` 自动类型推导
- 推导规则
    - 不声明为指针或引用时，`auto` 的推导结果和初始表达式抛弃引用和 `const` 限定符后的类型一致
    - 当声明为指针或引用时，`auto` 的推导结果将保持初始化表达式的 `const` 属性
- `auto` 的限制
    - `auto` 不能在函数的参数中使用（`auto` 要求必须对变量进行初始化）
    - `auto` 不能作用于类的非静态成员变量中（因为 `auto` 需要在编译期确定类型，但是非静态成员变量在调用构造函数时才初始化）
    - `auto` 关键字不能用于定义数组（因为无法从 `{1, 2, 3, 4}` 中推导出类型）
    - `auto` 不能作用于模板参数（无法推导出模板类型）
##### `decltype` 类型推导
- `decltype` 通过表达式的类型进行推导，不要求初始化
- 推导规则 `decltype(exp)`
    - `exp` 是标识符、类访问表达式时，推导类型与 exp 类型一致
    - `exp` 是函数调用，推导类型和函数返回值类型一致
    - 其他情况，若 `exp` 是一个左值，则推导类型是 `exp` 类型的左值引用，否则和 `exp` 类型一致
- 返回值类型后置，`auto` 和 `decltype` 合用
    ```cpp
    template <typename T, typename U>
    auto add(T t, U u) -> decltype(t + u) {
        return t + u;
    }   
    ```
##### 范围 `for` 循环
##### 右值引用和移动语义
##### [[智能指针]]
##### Lambda 表达式
##### constexpr/ constexpr if
##### nullptr
##### override 和 final

---
